# ğŸ“˜ PHáº¦N 4: FRAMEWORK & CÃ”NG Cá»¤ PHÃT TRIá»‚N WEB HIá»†N Äáº I

- [ğŸ“˜ PHáº¦N 4: FRAMEWORK \& CÃ”NG Cá»¤ PHÃT TRIá»‚N WEB HIá»†N Äáº I](#-pháº§n-4-framework--cÃ´ng-cá»¥-phÃ¡t-triá»ƒn-web-hiá»‡n-Ä‘áº¡i)
  - [ğŸ¯ Má»¥c tiÃªu tá»•ng quÃ¡t](#-má»¥c-tiÃªu-tá»•ng-quÃ¡t)
  - [ğŸ§‘â€ğŸ« BÃ i 1: Giá»›i thiá»‡u vá» Frontend Framework](#-bÃ i-1-giá»›i-thiá»‡u-vá»-frontend-framework)
    - [Framework lÃ  gÃ¬ vÃ  táº¡i sao cáº§n framework?](#framework-lÃ -gÃ¬-vÃ -táº¡i-sao-cáº§n-framework)
    - [CÃ¡c frontend framework phá»• biáº¿n](#cÃ¡c-frontend-framework-phá»•-biáº¿n)
  - [ğŸ§‘â€ğŸ« BÃ i 2: Giá»›i thiá»‡u vá» React.js](#-bÃ i-2-giá»›i-thiá»‡u-vá»-reactjs)
    - [React lÃ  gÃ¬?](#react-lÃ -gÃ¬)
    - [CÃ i Ä‘áº·t vÃ  khá»Ÿi táº¡o dá»± Ã¡n React](#cÃ i-Ä‘áº·t-vÃ -khá»Ÿi-táº¡o-dá»±-Ã¡n-react)
    - [JSX - JavaScript XML](#jsx---javascript-xml)
    - [Components](#components)
    - [Props vÃ  State](#props-vÃ -state)
    - [VÃ²ng Ä‘á»i component vá»›i useEffect](#vÃ²ng-Ä‘á»i-component-vá»›i-useeffect)
    - [Xá»­ lÃ½ sá»± kiá»‡n](#xá»­-lÃ½-sá»±-kiá»‡n)
    - [Danh sÃ¡ch vÃ  key](#danh-sÃ¡ch-vÃ -key)
    - [Conditional Rendering](#conditional-rendering)
    - [Form vÃ  input](#form-vÃ -input)
  - [ğŸ§‘â€ğŸ« BÃ i 3: State Management trong React](#-bÃ i-3-state-management-trong-react)
    - [State Management lÃ  gÃ¬?](#state-management-lÃ -gÃ¬)
    - [Context API](#context-api)
    - [Redux - State Management Library](#redux---state-management-library)
    - [Redux Toolkit - CÃ¡ch tiáº¿p cáº­n hiá»‡n Ä‘áº¡i](#redux-toolkit---cÃ¡ch-tiáº¿p-cáº­n-hiá»‡n-Ä‘áº¡i)
  - [ğŸ§‘â€ğŸ« BÃ i 4: Routing trong React](#-bÃ i-4-routing-trong-react)
    - [React Router](#react-router)
    - [Nested Routes](#nested-routes)
    - [Protected Routes](#protected-routes)
  - [ğŸ§‘â€ğŸ« BÃ i 5: Giá»›i thiá»‡u vá» Node.js vÃ  NPM](#-bÃ i-5-giá»›i-thiá»‡u-vá»-nodejs-vÃ -npm)
    - [Node.js lÃ  gÃ¬?](#nodejs-lÃ -gÃ¬)
    - [NPM (Node Package Manager)](#npm-node-package-manager)
    - [CÃ i Ä‘áº·t Node.js vÃ  NPM](#cÃ i-Ä‘áº·t-nodejs-vÃ -npm)
    - [Sá»­ dá»¥ng NPM cÆ¡ báº£n](#sá»­-dá»¥ng-npm-cÆ¡-báº£n)
    - [package.json file](#packagejson-file)
    - [Cháº¡y scripts](#cháº¡y-scripts)
  - [ğŸ§‘â€ğŸ« BÃ i 6: CÃ´ng cá»¥ build vÃ  bundler](#-bÃ i-6-cÃ´ng-cá»¥-build-vÃ -bundler)
    - [Bundlers lÃ  gÃ¬?](#bundlers-lÃ -gÃ¬)
    - [Webpack](#webpack)
    - [Vite](#vite)
    - [Babel](#babel)
    - [ESLint vÃ  Prettier](#eslint-vÃ -prettier)
  - [ğŸ§‘â€ğŸ« BÃ i 7: Backend APIs vá»›i Express.js](#-bÃ i-7-backend-apis-vá»›i-expressjs)
    - [Express.js lÃ  gÃ¬?](#expressjs-lÃ -gÃ¬)
    - [CÃ i Ä‘áº·t vÃ  thiáº¿t láº­p Express](#cÃ i-Ä‘áº·t-vÃ -thiáº¿t-láº­p-express)
    - [Routing](#routing)
    - [Middleware](#middleware)
    - [Káº¿t ná»‘i vá»›i Database (MongoDB)](#káº¿t-ná»‘i-vá»›i-database-mongodb)
  - [ğŸ§‘â€ğŸ« BÃ i 8: REST API vÃ  RESTful Services](#-bÃ i-8-rest-api-vÃ -restful-services)
    - [REST (Representational State Transfer) lÃ  gÃ¬?](#rest-representational-state-transfer-lÃ -gÃ¬)
    - [CÃ¡c nguyÃªn táº¯c cá»§a REST](#cÃ¡c-nguyÃªn-táº¯c-cá»§a-rest)
    - [HTTP Methods trong REST](#http-methods-trong-rest)
    - [RESTful API Conventions](#restful-api-conventions)
    - [Status Codes trong REST API](#status-codes-trong-rest-api)
    - [API Documentation vá»›i Swagger/OpenAPI](#api-documentation-vá»›i-swaggeropenapi)
    - [API Versioning](#api-versioning)
    - [API Authentication](#api-authentication)
    - [CORS (Cross-Origin Resource Sharing)](#cors-cross-origin-resource-sharing)
    - [Rate Limiting](#rate-limiting)
  - [ğŸ§‘â€ğŸ« BÃ i 9: Deployment vÃ  CI/CD cÆ¡ báº£n](#-bÃ i-9-deployment-vÃ -cicd-cÆ¡-báº£n)
    - [CÃ¡c ná»n táº£ng hosting phá»• biáº¿n](#cÃ¡c-ná»n-táº£ng-hosting-phá»•-biáº¿n)
    - [Triá»ƒn khai lÃªn Vercel](#triá»ƒn-khai-lÃªn-vercel)
    - [Triá»ƒn khai lÃªn Netlify](#triá»ƒn-khai-lÃªn-netlify)
    - [Cáº¥u hÃ¬nh Continuous Integration/Continuous Deployment (CI/CD)](#cáº¥u-hÃ¬nh-continuous-integrationcontinuous-deployment-cicd)
      - [GitHub Actions](#github-actions)
    - [Netlify CI/CD](#netlify-cicd)
    - [Docker cÆ¡ báº£n cho deployment](#docker-cÆ¡-báº£n-cho-deployment)
  - [ğŸ§ª BÃ€I Táº¬P Lá»šN CUá»I PHáº¦N: XÃ¢y dá»±ng á»¨ng dá»¥ng Full-Stack vá»›i React vÃ  Express](#-bÃ i-táº­p-lá»›n-cuá»‘i-pháº§n-xÃ¢y-dá»±ng-á»©ng-dá»¥ng-full-stack-vá»›i-react-vÃ -express)
    - [Äá» bÃ i](#Ä‘á»-bÃ i)
    - [YÃªu cáº§u](#yÃªu-cáº§u)
    - [Gá»£i Ã½ cáº¥u trÃºc dá»± Ã¡n](#gá»£i-Ã½-cáº¥u-trÃºc-dá»±-Ã¡n)
    - [ÄÃ¡nh giÃ¡](#Ä‘Ã¡nh-giÃ¡)

## ğŸ¯ Má»¥c tiÃªu tá»•ng quÃ¡t

- Hiá»ƒu Ä‘Æ°á»£c vai trÃ² vÃ  lá»£i Ã­ch cá»§a cÃ¡c framework trong phÃ¡t triá»ƒn web
- LÃ m quen vá»›i cÃ¡c cÃ´ng cá»¥ phÃ¡t triá»ƒn web hiá»‡n Ä‘áº¡i
- Biáº¿t cÃ¡ch tá»• chá»©c vÃ  triá»ƒn khai dá»± Ã¡n web chuyÃªn nghiá»‡p

---

## ğŸ§‘â€ğŸ« BÃ i 1: Giá»›i thiá»‡u vá» Frontend Framework

### Framework lÃ  gÃ¬ vÃ  táº¡i sao cáº§n framework?

- Framework lÃ  má»™t bá»™ khung lÃ m viá»‡c cung cáº¥p cáº¥u trÃºc vÃ  cÃ´ng cá»¥ Ä‘á»ƒ xÃ¢y dá»±ng á»©ng dá»¥ng
- GiÃºp tÄƒng tá»‘c Ä‘á»™ phÃ¡t triá»ƒn, Ä‘áº£m báº£o code cÃ³ cáº¥u trÃºc tá»‘t
- Cung cáº¥p giáº£i phÃ¡p cho cÃ¡c váº¥n Ä‘á» phá»• biáº¿n trong láº­p trÃ¬nh web
- Há»— trá»£ quáº£n lÃ½ cÃ¡c á»©ng dá»¥ng phá»©c táº¡p vÃ  lá»›n

### CÃ¡c frontend framework phá»• biáº¿n

1. **React** - ThÆ° viá»‡n JavaScript Ä‘á»ƒ xÃ¢y dá»±ng giao diá»‡n ngÆ°á»i dÃ¹ng

   - PhÃ¡t triá»ƒn bá»Ÿi Facebook
   - Sá»­ dá»¥ng Virtual DOM Ä‘á»ƒ tá»‘i Æ°u hiá»‡u suáº¥t
   - Dá»±a trÃªn component-based architecture
   - Há»‡ sinh thÃ¡i phong phÃº vá»›i nhiá»u thÆ° viá»‡n há»— trá»£

2. **Next.js** - Framework cho React

   - Há»— trá»£ server-side rendering (SSR) vÃ  static site generation (SSG)
   - TÃ­ch há»£p dá»… dÃ ng vá»›i API routes
   - Tá»‘i Æ°u hÃ³a SEO vÃ  hiá»‡u suáº¥t táº£i trang
   - Há»— trá»£ routing vÃ  code splitting tá»± Ä‘á»™ng

3. **Vue.js** - Framework JavaScript tiáº¿n bá»™

   - Dá»… há»c vÃ  tÃ­ch há»£p
   - Há»— trá»£ tá»‘t cáº£ á»©ng dá»¥ng má»™t trang (SPA) vÃ  tÃ­ch há»£p tá»«ng pháº§n
   - CÃ³ template system dá»… hiá»ƒu
   - Performance tá»‘t vÃ  kÃ­ch thÆ°á»›c nhá»

4. **Angular** - Platform vÃ  framework toÃ n diá»‡n

   - PhÃ¡t triá»ƒn bá»Ÿi Google
   - TypeScript-based, cung cáº¥p type checking
   - Full-featured framework vá»›i routing, form handling, HTTP client,...
   - Hai-way data binding

5. **Svelte** - Framework hiá»‡n Ä‘áº¡i

   - Thay vÃ¬ Virtual DOM, biÃªn dá»‹ch code thÃ nh JavaScript tá»‘i Æ°u
   - Ãt boilerplate code, dá»… Ä‘á»c
   - Performance cao vÃ  bundle size nhá»

6. **Bootstrap & Tailwind CSS** - CSS frameworks
   - Bootstrap: Cung cáº¥p nhiá»u component UI Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t káº¿ sáºµn
   - Tailwind CSS: Utility-first CSS framework, linh hoáº¡t cao

**So sÃ¡nh cÃ¡c framework:**

| Framework | Há»c        | Hiá»‡u suáº¥t | Cá»™ng Ä‘á»“ng  | TÃ i liá»‡u | Trá»ng lÆ°á»£ng |
| --------- | ---------- | --------- | ---------- | -------- | ----------- |
| React     | Trung bÃ¬nh | Cao       | Ráº¥t lá»›n    | Tá»‘t      | Nháº¹         |
| Next.js   | Dá»…         | Ráº¥t cao   | Lá»›n        | Tá»‘t      | Nháº¹         |
| Vue.js    | Dá»…         | Cao       | Lá»›n        | Ráº¥t tá»‘t  | Ráº¥t nháº¹     |
| Angular   | KhÃ³        | Tá»‘t       | Lá»›n        | Tá»‘t      | Náº·ng        |
| Svelte    | Dá»…         | Ráº¥t cao   | Trung bÃ¬nh | Tá»‘t      | Ráº¥t nháº¹     |

---

## ğŸ§‘â€ğŸ« BÃ i 2: Giá»›i thiá»‡u vá» React.js

### React lÃ  gÃ¬?

- ThÆ° viá»‡n JavaScript Ä‘á»ƒ xÃ¢y dá»±ng giao diá»‡n ngÆ°á»i dÃ¹ng
- Táº­p trung vÃ o viá»‡c xÃ¢y dá»±ng UI dá»±a trÃªn component
- Sá»­ dá»¥ng Virtual DOM Ä‘á»ƒ tá»‘i Æ°u hiá»‡u suáº¥t render
- Báº¡n nÃªn tham kháº£o tÃ i liá»‡u chÃ­nh thá»©c táº¡i [reactjs.org](https://reactjs.org/) Ä‘á»ƒ Ä‘Æ°á»£c cáº­p nháº­t thÃ´ng tin má»›i nháº¥t vÃ  hÆ°á»›ng dáº«n chi tiáº¿t hÆ¡n

### CÃ i Ä‘áº·t vÃ  khá»Ÿi táº¡o dá»± Ã¡n React

```bash
# Sá»­ dá»¥ng Create React App
npx create-react-app my-app
cd my-app
npm start

# Sá»­ dá»¥ng Vite (nhanh hÆ¡n)
npm create vite@latest my-app -- --template react
cd my-app
npm install
npm run dev
```

### JSX - JavaScript XML

```jsx
// JSX lÃ  cÃº phÃ¡p má»Ÿ rá»™ng cá»§a JavaScript Ä‘á»ƒ mÃ´ táº£ UI
const element = <h1>Hello, world!</h1>;

// JSX vá»›i biá»ƒu thá»©c
const name = "John";
const element = <h1>Hello, {name}!</h1>;

// JSX vá»›i thuá»™c tÃ­nh
const element = <img src={user.avatarUrl} alt="Avatar" />;

// JSX vá»›i nhiá»u pháº§n tá»­ (cáº§n cÃ³ pháº§n tá»­ gá»‘c bao bá»c)
const element = (
  <div>
    <h1>Hello!</h1>
    <p>Welcome to React</p>
  </div>
);

// Hoáº·c sá»­ dá»¥ng React Fragment
const element = (
  <>
    <h1>Hello!</h1>
    <p>Welcome to React</p>
  </>
);
```

### Components

```jsx
// Function component (khuyáº¿n nghá»‹)
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}

// Arrow function component
const Welcome = (props) => <h1>Hello, {props.name}</h1>;

// Class component
class Welcome extends React.Component {
  render() {
    return <h1>Hello, {this.props.name}</h1>;
  }
}

// Sá»­ dá»¥ng component
const element = <Welcome name="Sara" />;
```

### Props vÃ  State

```jsx
// Props - dá»¯ liá»‡u truyá»n tá»« component cha xuá»‘ng con
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}

// Destructuring props
function Welcome({ name, age }) {
  return (
    <div>
      <h1>Hello, {name}</h1>
      <p>You are {age} years old</p>
    </div>
  );
}

// Default props
Welcome.defaultProps = {
  name: "Guest",
  age: 0,
};

// State - dá»¯ liá»‡u ná»™i bá»™ cá»§a component, cÃ³ thá»ƒ thay Ä‘á»•i
import { useState } from "react";

function Counter() {
  // Khá»Ÿi táº¡o state vá»›i useState hook
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>Click me</button>
    </div>
  );
}
```

### VÃ²ng Ä‘á»i component vá»›i useEffect

```jsx
import { useState, useEffect } from "react";

function Example() {
  const [count, setCount] = useState(0);

  // TÆ°Æ¡ng tá»± componentDidMount vÃ  componentDidUpdate
  useEffect(() => {
    // Cáº­p nháº­t document title khi count thay Ä‘á»•i
    document.title = `You clicked ${count} times`;

    // Return má»™t function cleanup (tÆ°Æ¡ng tá»± componentWillUnmount)
    return () => {
      document.title = "React App";
    };
  }, [count]); // Chá»‰ cháº¡y láº¡i khi count thay Ä‘á»•i

  // useEffect khÃ´ng cÃ³ dependencies array sáº½ cháº¡y sau má»—i láº§n render
  useEffect(() => {
    console.log("Component rendered");
  });

  // useEffect vá»›i empty dependencies array chá»‰ cháº¡y sau láº§n render Ä‘áº§u tiÃªn
  useEffect(() => {
    console.log("Component mounted");
    return () => {
      console.log("Component will unmount");
    };
  }, []);

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>Click me</button>
    </div>
  );
}
```

### Xá»­ lÃ½ sá»± kiá»‡n

```jsx
function Button() {
  // Event handler
  const handleClick = (e) => {
    e.preventDefault();
    console.log("Button clicked");
  };

  return <button onClick={handleClick}>Click me</button>;
}

// Truyá»n tham sá»‘ cho event handler
function Products() {
  const handleProductClick = (productId, e) => {
    console.log(`Product ${productId} clicked`);
  };

  return (
    <div>
      <button onClick={(e) => handleProductClick(1, e)}>Product 1</button>
      <button onClick={(e) => handleProductClick(2, e)}>Product 2</button>
    </div>
  );
}
```

### Danh sÃ¡ch vÃ  key

```jsx
function NumberList({ numbers }) {
  const listItems = numbers.map((number) => (
    <li key={number.toString()}>{number}</li>
  ));

  return <ul>{listItems}</ul>;
}

// Vá»›i object array
function UserList({ users }) {
  return (
    <ul>
      {users.map((user) => (
        <li key={user.id}>{user.name}</li>
      ))}
    </ul>
  );
}
```

### Conditional Rendering

```jsx
function Greeting({ isLoggedIn }) {
  // DÃ¹ng Ä‘iá»u kiá»‡n if
  if (isLoggedIn) {
    return <h1>Welcome back!</h1>;
  }
  return <h1>Please sign in.</h1>;
}

// DÃ¹ng toÃ¡n tá»­ ba ngÃ´i
function Greeting({ isLoggedIn }) {
  return <h1>{isLoggedIn ? "Welcome back!" : "Please sign in"}</h1>;
}

// DÃ¹ng toÃ¡n tá»­ && (short-circuit)
function Mailbox({ unreadMessages }) {
  return (
    <div>
      <h1>Hello!</h1>
      {unreadMessages.length > 0 && (
        <h2>You have {unreadMessages.length} unread messages.</h2>
      )}
    </div>
  );
}
```

### Form vÃ  input

```jsx
import { useState } from "react";

function SimpleForm() {
  const [name, setName] = useState("");
  const [email, setEmail] = useState("");

  const handleSubmit = (e) => {
    e.preventDefault();
    console.log({ name, email });
  };

  return (
    <form onSubmit={handleSubmit}>
      <div>
        <label>
          Name:
          <input
            type="text"
            value={name}
            onChange={(e) => setName(e.target.value)}
          />
        </label>
      </div>
      <div>
        <label>
          Email:
          <input
            type="email"
            value={email}
            onChange={(e) => setEmail(e.target.value)}
          />
        </label>
      </div>
      <button type="submit">Submit</button>
    </form>
  );
}
```

---

## ğŸ§‘â€ğŸ« BÃ i 3: State Management trong React

### State Management lÃ  gÃ¬?

- Quáº£n lÃ½ tráº¡ng thÃ¡i cá»§a á»©ng dá»¥ng, Ä‘áº·c biá»‡t lÃ  khi á»©ng dá»¥ng lá»›n vÃ  phá»©c táº¡p
- GiÃºp chia sáº» dá»¯ liá»‡u giá»¯a cÃ¡c component mÃ  khÃ´ng cáº§n truyá»n props qua nhiá»u cáº¥p
- Cung cáº¥p cÃ¡ch tiáº¿p cáº­n cÃ³ tá»• chá»©c Ä‘á»ƒ quáº£n lÃ½ tráº¡ng thÃ¡i toÃ n cá»¥c

### Context API

```jsx
// 1. Táº¡o context
import { createContext, useState, useContext } from "react";

const ThemeContext = createContext();

// 2. Táº¡o provider
function ThemeProvider({ children }) {
  const [theme, setTheme] = useState("light");

  const toggleTheme = () => {
    setTheme(theme === "light" ? "dark" : "light");
  };

  // Value truyá»n xuá»‘ng cho consumer
  const value = { theme, toggleTheme };

  return (
    <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>
  );
}

// 3. Sá»­ dá»¥ng custom hook Ä‘á»ƒ truy cáº­p context
function useTheme() {
  const context = useContext(ThemeContext);
  if (context === undefined) {
    throw new Error("useTheme must be used within a ThemeProvider");
  }
  return context;
}

// 4. Sá»­ dá»¥ng trong component
function ThemedButton() {
  const { theme, toggleTheme } = useTheme();

  return (
    <button
      onClick={toggleTheme}
      style={{
        backgroundColor: theme === "light" ? "#fff" : "#333",
        color: theme === "light" ? "#333" : "#fff",
      }}
    >
      Toggle Theme
    </button>
  );
}

// 5. Bá»c á»©ng dá»¥ng trong provider
function App() {
  return (
    <ThemeProvider>
      <ThemedButton />
      <OtherComponents />
    </ThemeProvider>
  );
}
```

### Redux - State Management Library

- Redux lÃ  má»™t thÆ° viá»‡n quáº£n lÃ½ tráº¡ng thÃ¡i phá»• biáº¿n cho JavaScript
- Cung cáº¥p má»™t store toÃ n cá»¥c Ä‘á»ƒ lÆ°u trá»¯ tráº¡ng thÃ¡i cá»§a á»©ng dá»¥ng
- Dá»±a trÃªn ba nguyÃªn táº¯c chÃ­nh:
  1. Táº¥t cáº£ tráº¡ng thÃ¡i á»©ng dá»¥ng Ä‘Æ°á»£c lÆ°u trá»¯ trong má»™t store duy nháº¥t
  2. Tráº¡ng thÃ¡i chá»‰ cÃ³ thá»ƒ thay Ä‘á»•i thÃ´ng qua actions
  3. CÃ¡c state changes Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng cÃ¡ch sá»­ dá»¥ng pure functions gá»i lÃ  reducers
- Redux ráº¥t máº¡nh máº½ nhÆ°ng cÃ³ thá»ƒ phá»©c táº¡p cho cÃ¡c á»©ng dá»¥ng nhá»

```bash
npm install redux react-redux
```

```jsx
// 1. Actions
const ADD_TODO = "ADD_TODO";
const TOGGLE_TODO = "TOGGLE_TODO";

function addTodo(text) {
  return { type: ADD_TODO, text };
}

function toggleTodo(id) {
  return { type: TOGGLE_TODO, id };
}

// 2. Reducer
const initialState = {
  todos: [],
};

function todoReducer(state = initialState, action) {
  switch (action.type) {
    case ADD_TODO:
      return {
        ...state,
        todos: [
          ...state.todos,
          {
            id: Date.now(),
            text: action.text,
            completed: false,
          },
        ],
      };
    case TOGGLE_TODO:
      return {
        ...state,
        todos: state.todos.map((todo) =>
          todo.id === action.id ? { ...todo, completed: !todo.completed } : todo
        ),
      };
    default:
      return state;
  }
}

// 3. Store
import { createStore } from "redux";
const store = createStore(todoReducer);

// 4. React-Redux
import { Provider, useSelector, useDispatch } from "react-redux";

// Provider component
function App() {
  return (
    <Provider store={store}>
      <TodoApp />
    </Provider>
  );
}

// Component sá»­ dá»¥ng Redux
function TodoApp() {
  const todos = useSelector((state) => state.todos);
  const dispatch = useDispatch();

  const handleAddTodo = (text) => {
    dispatch(addTodo(text));
  };

  const handleToggle = (id) => {
    dispatch(toggleTodo(id));
  };

  // Render UI...
}
```

### Redux Toolkit - CÃ¡ch tiáº¿p cáº­n hiá»‡n Ä‘áº¡i

- Redux Toolkit lÃ  bá»™ cÃ´ng cá»¥ chÃ­nh thá»©c Ä‘á»ƒ phÃ¡t triá»ƒn á»©ng dá»¥ng Redux
- Cung cáº¥p cÃ¡c API Ä‘Æ¡n giáº£n hÆ¡n Ä‘á»ƒ táº¡o store, reducer vÃ  actions
- TÃ­ch há»£p sáºµn cÃ¡c middleware nhÆ° Redux Thunk cho xá»­ lÃ½ báº¥t Ä‘á»“ng bá»™
- GiÃºp giáº£m boilerplate code vÃ  dá»… dÃ ng hÆ¡n trong viá»‡c thiáº¿t láº­p Redux

```bash
npm install @reduxjs/toolkit react-redux
```

```jsx
import { createSlice, configureStore } from "@reduxjs/toolkit";

// Slice (káº¿t há»£p action creators vÃ  reducer)
const todosSlice = createSlice({
  name: "todos",
  initialState: [],
  reducers: {
    addTodo: (state, action) => {
      state.push({
        id: Date.now(),
        text: action.payload,
        completed: false,
      });
    },
    toggleTodo: (state, action) => {
      const todo = state.find((todo) => todo.id === action.payload);
      if (todo) {
        todo.completed = !todo.completed;
      }
    },
  },
});

// Export actions
export const { addTodo, toggleTodo } = todosSlice.actions;

// Táº¡o store
const store = configureStore({
  reducer: {
    todos: todosSlice.reducer,
  },
});

// Sá»­ dá»¥ng trong component
function TodoApp() {
  const todos = useSelector((state) => state.todos);
  const dispatch = useDispatch();

  const handleAddTodo = (text) => {
    dispatch(addTodo(text));
  };
}
```

---

## ğŸ§‘â€ğŸ« BÃ i 4: Routing trong React

### React Router

```jsx
import {
  BrowserRouter as Router,
  Routes,
  Route,
  Link,
  useParams,
  useNavigate,
} from "react-router-dom";

function App() {
  return (
    <Router>
      <div>
        <nav>
          <ul>
            <li>
              <Link to="/">Home</Link>
            </li>
            <li>
              <Link to="/about">About</Link>
            </li>
            <li>
              <Link to="/users">Users</Link>
            </li>
          </ul>
        </nav>

        <Routes>
          <Route path="/about" element={<About />} />
          <Route path="/users" element={<Users />} />
          <Route path="/user/:id" element={<UserDetail />} />
          <Route path="/" element={<Home />} />
          <Route path="*" element={<NotFound />} />
        </Routes>
      </div>
    </Router>
  );
}

// Component vá»›i params
function UserDetail() {
  // Láº¥y params tá»« URL
  const { id } = useParams();
  return <h2>User ID: {id}</h2>;
}

// Chuyá»ƒn hÆ°á»›ng láº­p trÃ¬nh
function Profile() {
  const navigate = useNavigate();

  const handleLogout = () => {
    // Xá»­ lÃ½ logout...
    navigate("/login"); // Chuyá»ƒn hÆ°á»›ng Ä‘áº¿n trang login
  };

  return (
    <div>
      <h2>User Profile</h2>
      <button onClick={handleLogout}>Logout</button>
    </div>
  );
}
```

### Nested Routes

```jsx
function App() {
  return (
    <Router>
      <Routes>
        <Route path="/" element={<Layout />}>
          <Route index element={<Home />} />
          <Route path="about" element={<About />} />
          <Route path="dashboard" element={<Dashboard />} />
          <Route path="products" element={<Products />}>
            <Route index element={<ProductList />} />
            <Route path=":id" element={<ProductDetail />} />
          </Route>
          <Route path="*" element={<NotFound />} />
        </Route>
      </Routes>
    </Router>
  );
}

// Layout component vá»›i Outlet
import { Outlet } from "react-router-dom";

function Layout() {
  return (
    <div>
      <header>
        <nav>{/* navigation links */}</nav>
      </header>

      <main>
        <Outlet /> {/* Ná»™i dung cá»§a route con sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y */}
      </main>

      <footer>{/* footer content */}</footer>
    </div>
  );
}
```

### Protected Routes

```jsx
import { Navigate } from "react-router-dom";

// Custom component Ä‘á»ƒ báº£o vá»‡ route
function ProtectedRoute({ children }) {
  const { user } = useAuth(); // Custom hook Ä‘á»ƒ kiá»ƒm tra authentication

  if (!user) {
    // Chuyá»ƒn hÆ°á»›ng Ä‘áº¿n login náº¿u chÆ°a Ä‘Äƒng nháº­p
    return <Navigate to="/login" replace />;
  }

  return children;
}

// Sá»­ dá»¥ng trong routes
function App() {
  return (
    <Router>
      <Routes>
        <Route path="/login" element={<Login />} />
        <Route path="/public" element={<PublicPage />} />
        <Route
          path="/dashboard"
          element={
            <ProtectedRoute>
              <Dashboard />
            </ProtectedRoute>
          }
        />
        <Route
          path="/profile"
          element={
            <ProtectedRoute>
              <Profile />
            </ProtectedRoute>
          }
        />
      </Routes>
    </Router>
  );
}
```

---

## ğŸ§‘â€ğŸ« BÃ i 5: Giá»›i thiá»‡u vá» Node.js vÃ  NPM

### Node.js lÃ  gÃ¬?

- MÃ´i trÆ°á»ng runtime JavaScript á»Ÿ phÃ­a mÃ¡y chá»§
- XÃ¢y dá»±ng trÃªn V8 JavaScript engine cá»§a Google Chrome
- Cho phÃ©p cháº¡y JavaScript ngoÃ i trÃ¬nh duyá»‡t
- Thiáº¿t káº¿ hÆ°á»›ng sá»± kiá»‡n, khÃ´ng Ä‘á»“ng bá»™ (asynchronous)
- PhÃ¹ há»£p cho á»©ng dá»¥ng thá»i gian thá»±c vÃ  API

### NPM (Node Package Manager)

- Há»‡ thá»‘ng quáº£n lÃ½ package lá»›n nháº¥t tháº¿ giá»›i cho JavaScript
- CÃ´ng cá»¥ Ä‘á»ƒ cÃ i Ä‘áº·t vÃ  quáº£n lÃ½ thÆ° viá»‡n tá»« bÃªn thá»© ba
- Quáº£n lÃ½ dependencies cá»§a dá»± Ã¡n

### CÃ i Ä‘áº·t Node.js vÃ  NPM

- Táº£i tá»« [nodejs.org](https://nodejs.org/)
- Kiá»ƒm tra cÃ i Ä‘áº·t:

```bash
node -v
npm -v
```

### Sá»­ dá»¥ng NPM cÆ¡ báº£n

```bash
# Khá»Ÿi táº¡o dá»± Ã¡n má»›i (táº¡o package.json)
npm init

# Khá»Ÿi táº¡o nhanh vá»›i cÃ¡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh
npm init -y

# CÃ i Ä‘áº·t package
npm install package-name

# CÃ i Ä‘áº·t package vÃ  thÃªm vÃ o dependencies
npm install package-name --save

# CÃ i Ä‘áº·t package vÃ  thÃªm vÃ o devDependencies
npm install package-name --save-dev

# CÃ i Ä‘áº·t package toÃ n cá»¥c
npm install -g package-name

# CÃ i Ä‘áº·t táº¥t cáº£ dependencies Ä‘Ã£ khai bÃ¡o trong package.json
npm install

# Gá»¡ cÃ i Ä‘áº·t package
npm uninstall package-name

# Cáº­p nháº­t packages
npm update
```

### package.json file

```json
{
  "name": "my-app",
  "version": "1.0.0",
  "description": "My awesome app",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "dev": "nodemon index.js",
    "test": "jest",
    "build": "webpack"
  },
  "keywords": ["app", "nodejs"],
  "author": "Your Name",
  "license": "MIT",
  "dependencies": {
    "express": "^4.17.1",
    "react": "^17.0.2"
  },
  "devDependencies": {
    "nodemon": "^2.0.7",
    "jest": "^27.0.6",
    "webpack": "^5.44.0"
  }
}
```

### Cháº¡y scripts

```bash
# Cháº¡y script Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong package.json
npm run script-name

# Cháº¡y script start
npm start

# Cháº¡y script test
npm test
```

---

## ğŸ§‘â€ğŸ« BÃ i 6: CÃ´ng cá»¥ build vÃ  bundler

### Bundlers lÃ  gÃ¬?

- CÃ´ng cá»¥ Ä‘Ã³ng gÃ³i táº¥t cáº£ code JavaScript, CSS vÃ  assets thÃ nh cÃ¡c bundle
- Cho phÃ©p chia code thÃ nh cÃ¡c module nhá», dá»… quáº£n lÃ½
- Tá»‘i Æ°u hÃ³a kÃ­ch thÆ°á»›c bundle vÃ  hiá»‡u suáº¥t táº£i trang

### Webpack

- Bundler phá»• biáº¿n nháº¥t cho JavaScript
- TÃ­nh nÄƒng:
  - Code splitting (chia nhá» bundle)
  - Lazy loading (táº£i code theo nhu cáº§u)
  - Há»— trá»£ nhiá»u loáº¡i assets qua loaders
  - Tá»‘i Æ°u hÃ³a bundle vá»›i plugins

```js
// webpack.config.js cÆ¡ báº£n
const path = require("path");
const HtmlWebpackPlugin = require("html-webpack-plugin");

module.exports = {
  entry: "./src/index.js",
  output: {
    path: path.resolve(__dirname, "dist"),
    filename: "bundle.js",
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: "babel-loader",
          options: {
            presets: ["@babel/preset-env", "@babel/preset-react"],
          },
        },
      },
      {
        test: /\.css$/,
        use: ["style-loader", "css-loader"],
      },
      {
        test: /\.(png|svg|jpg|gif)$/,
        use: ["file-loader"],
      },
    ],
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: "./public/index.html",
    }),
  ],
  devServer: {
    contentBase: "./dist",
    port: 3000,
  },
};
```

### Vite

- Build tool hiá»‡n Ä‘áº¡i, nhanh cho modern web
- Sá»­ dá»¥ng ES modules Ä‘á»ƒ dev server khá»Ÿi Ä‘á»™ng nhanh
- Sá»­ dá»¥ng Rollup khi build production

```bash
# Táº¡o dá»± Ã¡n má»›i vá»›i Vite
npm create vite@latest my-app -- --template react

# Khá»Ÿi Ä‘á»™ng dev server
npm run dev

# Build production
npm run build
```

### Babel

- JavaScript compiler
- Biáº¿n Ä‘á»•i code JavaScript hiá»‡n Ä‘áº¡i thÃ nh phiÃªn báº£n tÆ°Æ¡ng thÃ­ch vá»›i cÃ¡c trÃ¬nh duyá»‡t cÅ©
- Há»— trá»£ JSX, TypeScript vÃ  cÃ¡c tÃ­nh nÄƒng ES next

```js
// babel.config.js
module.exports = {
  presets: ["@babel/preset-env", "@babel/preset-react"],
  plugins: ["@babel/plugin-proposal-class-properties"],
};
```

### ESLint vÃ  Prettier

- ESLint: CÃ´ng cá»¥ Ä‘á»ƒ tÃ¬m vÃ  sá»­a lá»—i trong JavaScript
- Prettier: Code formatter, Ä‘áº£m báº£o code style nháº¥t quÃ¡n

```js
// .eslintrc.js
module.exports = {
  env: {
    browser: true,
    es2021: true,
    node: true
  },
  extends: [
    'eslint:recommended',
    'plugin:react/recommended'
  ],
  parserOptions: {
    ecmaFeatures: {
      jsx: true
    },
    ecmaVersion: 12,
    sourceType: 'module'
  },
  plugins: [
    'react'
  ],
  rules: {
    // Custom rules
  }
};

// .prettierrc
{
  "semi": true,
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "trailingComma": "es5"
}
```

---

## ğŸ§‘â€ğŸ« BÃ i 7: Backend APIs vá»›i Express.js

### Express.js lÃ  gÃ¬?

- Framework web nháº¹, linh hoáº¡t cho Node.js
- Cung cáº¥p cÃ¡c tÃ­nh nÄƒng máº¡nh máº½ Ä‘á»ƒ xÃ¢y dá»±ng web vÃ  API
- Middleware system Ä‘á»ƒ xá»­ lÃ½ requests vÃ  responses

### CÃ i Ä‘áº·t vÃ  thiáº¿t láº­p Express

```bash
npm install express nodemon
```

> nodemon lÃ  cÃ´ng cá»¥ giÃºp tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng láº¡i server khi cÃ³ thay Ä‘á»•i trong code

```json
// package.json
{
  "name": "my-express-app",
  "version": "1.0.0",
  "description": "My Express app",
  "main": "app.js",
  "scripts": {
    "start": "node app.js",
    "dev": "nodemon app.js"
  },
  "dependencies": {
    "express": "^4.17.1"
  },
  "devDependencies": {
    "nodemon": "^2.0.7"
  },
  "author": "",
  "license": "ISC"
}
```

```js
// app.js
const express = require("express");
const app = express();
const PORT = process.env.PORT || 3000;

// Middleware Ä‘á»ƒ parse JSON requests
app.use(express.json());
app.use(express.urlencoded({ extended: true }));

// Route Ä‘Æ¡n giáº£n
app.get("/", (req, res) => {
  res.send("Hello World!");
});

// Khá»Ÿi Ä‘á»™ng server
app.listen(PORT, () => {
  console.log(`Server running on port ${PORT}`);
});
```

```bash
# Cháº¡y á»©ng dá»¥ng trong cháº¿ Ä‘á»™ phÃ¡t triá»ƒn
npm run dev
```

### Routing

```js
// Basic routes
app.get("/users", (req, res) => {
  // Xá»­ lÃ½ GET request cho /users
  res.json({ users: ["User1", "User2", "User3"] });
});

app.post("/users", (req, res) => {
  // Xá»­ lÃ½ POST request cho /users
  console.log(req.body); // Dá»¯ liá»‡u tá»« client
  res.status(201).send("User created");
});

app.put("/users/:id", (req, res) => {
  // Láº¥y params tá»« URL
  const userId = req.params.id;
  // Xá»­ lÃ½ PUT request cho /users/:id
  res.send(`Updating user ${userId}`);
});

app.delete("/users/:id", (req, res) => {
  // Xá»­ lÃ½ DELETE request
  res.send(`Deleting user ${req.params.id}`);
});

// Route vá»›i query parameters
app.get("/products", (req, res) => {
  // Truy cáº­p query params: /products?category=electronics&sort=price
  const category = req.query.category;
  const sort = req.query.sort;
  res.send(`Products in ${category}, sorted by ${sort}`);
});

// Router modules
const userRoutes = express.Router();

userRoutes.get("/", (req, res) => {
  res.send("Get all users");
});

userRoutes.get("/:id", (req, res) => {
  res.send(`Get user ${req.params.id}`);
});

// Mount router trÃªn /api/users path
app.use("/api/users", userRoutes);
```

### Middleware

```js
// Custom middleware
function logger(req, res, next) {
  console.log(`${req.method} ${req.url} - ${new Date()}`);
  next(); // Chuyá»ƒn request Ä‘áº¿n middleware tiáº¿p theo
}

// Middleware Ã¡p dá»¥ng cho táº¥t cáº£ routes
app.use(logger);

// Middleware Ã¡p dá»¥ng cho má»™t route cá»¥ thá»ƒ
app.get("/admin", authenticateAdmin, (req, res) => {
  res.send("Admin Dashboard");
});

// Authentication middleware
function authenticateUser(req, res, next) {
  const authHeader = req.headers.authorization;

  if (!authHeader) {
    return res.status(401).json({ error: "No token provided" });
  }

  try {
    // Verify token logic
    const user = verifyToken(authHeader);
    req.user = user; // Add user to request
    next();
  } catch (error) {
    res.status(403).json({ error: "Invalid token" });
  }
}

// Protected route
app.get("/profile", authenticateUser, (req, res) => {
  res.json({ user: req.user });
});

// Error handling middleware
app.use((err, req, res, next) => {
  console.error(err.stack);
  res.status(500).send("Something broke!");
});
```

### Káº¿t ná»‘i vá»›i Database (MongoDB)

- Báº¡n cÃ³ thá»ƒ truy cáº­p [MongoDB](https://www.mongodb.com/) Ä‘á»ƒ táº¡o tÃ i khoáº£n vÃ  táº¡o database trÃªn cloud hoáº·c cÃ i Ä‘áº·t MongoDB trÃªn mÃ¡y tÃ­nh cá»§a báº¡n.

```bash
npm install mongoose
```

```js
const mongoose = require("mongoose");

// Káº¿t ná»‘i MongoDB
mongoose
  .connect("mongodb://localhost/mydatabase", {
    useNewUrlParser: true,
    useUnifiedTopology: true,
  })
  .then(() => {
    console.log("Connected to MongoDB");
  })
  .catch((err) => {
    console.error("Could not connect to MongoDB", err);
  });

// Äá»‹nh nghÄ©a Schema
const userSchema = new mongoose.Schema({
  name: String,
  email: { type: String, unique: true },
  password: String,
  createdAt: { type: Date, default: Date.now },
});

// Táº¡o Model
const User = mongoose.model("User", userSchema);

// CRUD operations
async function createUser(userData) {
  const user = new User(userData);
  return await user.save();
}

async function findUser(id) {
  return await User.findById(id);
}

async function updateUser(id, update) {
  return await User.findByIdAndUpdate(id, update, { new: true });
}

async function deleteUser(id) {
  return await User.findByIdAndDelete(id);
}

// API routes vá»›i database
app.post("/api/users", async (req, res) => {
  try {
    const user = await createUser(req.body);
    res.status(201).json(user);
  } catch (error) {
    res.status(400).json({ error: error.message });
  }
});

app.get("/api/users/:id", async (req, res) => {
  try {
    const user = await findUser(req.params.id);
    if (!user) return res.status(404).json({ error: "User not found" });
    res.json(user);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});
```

---

## ğŸ§‘â€ğŸ« BÃ i 8: REST API vÃ  RESTful Services

### REST (Representational State Transfer) lÃ  gÃ¬?

- Kiáº¿n trÃºc pháº§n má»m cho web services
- Sá»­ dá»¥ng HTTP methods Ä‘á»ƒ thao tÃ¡c vá»›i resources
- Stateless: server khÃ´ng lÆ°u tráº¡ng thÃ¡i cá»§a client
- Uniform interface: giao diá»‡n nháº¥t quÃ¡n giá»¯a cÃ¡c components

### CÃ¡c nguyÃªn táº¯c cá»§a REST

1. **Client-Server**: TÃ¡ch biá»‡t client vÃ  server
2. **Stateless**: Má»—i request pháº£i chá»©a Ä‘á»§ thÃ´ng tin, server khÃ´ng lÆ°u session
3. **Cacheable**: Responses cÃ³ thá»ƒ Ä‘Æ°á»£c cache
4. **Uniform Interface**: Interface Ä‘Æ¡n giáº£n, nháº¥t quÃ¡n
5. **Layered System**: Kiáº¿n trÃºc phÃ¢n lá»›p, client khÃ´ng biáº¿t server káº¿t ná»‘i trá»±c tiáº¿p hay qua trung gian
6. **Code on Demand**: Server cÃ³ thá»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a client báº±ng cÃ¡ch gá»­i code (tÃ¹y chá»n)

### HTTP Methods trong REST

| Method | CRUD           | MÃ´ táº£                             |
| ------ | -------------- | --------------------------------- |
| GET    | Read           | Láº¥y resource tá»« server            |
| POST   | Create         | Táº¡o resource má»›i                  |
| PUT    | Update/Replace | Cáº­p nháº­t toÃ n bá»™ resource hiá»‡n cÃ³ |
| PATCH  | Update/Modify  | Cáº­p nháº­t má»™t pháº§n resource        |
| DELETE | Delete         | XÃ³a resource                      |

### RESTful API Conventions

```text
# Láº¥y danh sÃ¡ch users
GET /api/users

# Láº¥y thÃ´ng tin má»™t user cá»¥ thá»ƒ
GET /api/users/:id

# Táº¡o user má»›i
POST /api/users

# Cáº­p nháº­t toÃ n bá»™ thÃ´ng tin user
PUT /api/users/:id

# Cáº­p nháº­t má»™t pháº§n thÃ´ng tin user
PATCH /api/users/:id

# XÃ³a user
DELETE /api/users/:id

# Láº¥y cÃ¡c bÃ i posts cá»§a user
GET /api/users/:id/posts

# Láº¥y cÃ¡c comments cá»§a post
GET /api/posts/:id/comments
```

### Status Codes trong REST API

- Báº¡n cÃ³ thá»ƒ tham kháº£o toÃ n bá»™ HTTP status codes táº¡i [Ä‘Ã¢y](https://devtools.klpod221.com/web/http-status)

```text

- **2xx Success**

  - 200 OK: Request thÃ nh cÃ´ng
  - 201 Created: Resource Ä‘Æ°á»£c táº¡o thÃ nh cÃ´ng
  - 204 No Content: Request thÃ nh cÃ´ng nhÆ°ng khÃ´ng cÃ³ ná»™i dung tráº£ vá»

- **3xx Redirection**

  - 301 Moved Permanently: Resource Ä‘Ã£ chuyá»ƒn sang URL khÃ¡c
  - 304 Not Modified: Resource khÃ´ng thay Ä‘á»•i tá»« láº§n request gáº§n nháº¥t

- **4xx Client Error**

  - 400 Bad Request: Lá»—i cÃº phÃ¡p, request khÃ´ng há»£p lá»‡
  - 401 Unauthorized: Client cáº§n xÃ¡c thá»±c
  - 403 Forbidden: Client khÃ´ng cÃ³ quyá»n truy cáº­p
  - 404 Not Found: Resource khÃ´ng tá»“n táº¡i
  - 422 Unprocessable Entity: Request Ä‘Ãºng cÃº phÃ¡p nhÆ°ng khÃ´ng thá»ƒ xá»­ lÃ½

- **5xx Server Error**
  - 500 Internal Server Error: Lá»—i trong quÃ¡ trÃ¬nh xá»­ lÃ½ request
  - 502 Bad Gateway: Server nháº­n response khÃ´ng há»£p lá»‡ tá»« upstream server
  - 503 Service Unavailable: Server táº¡m thá»i khÃ´ng kháº£ dá»¥ng
```

### API Documentation vá»›i Swagger/OpenAPI

```javascript
// Sá»­ dá»¥ng swagger-jsdoc vÃ  swagger-ui-express Ä‘á»ƒ táº¡o docs
const express = require("express");
const swaggerJsdoc = require("swagger-jsdoc");
const swaggerUi = require("swagger-ui-express");

const app = express();

const options = {
  definition: {
    openapi: "3.0.0",
    info: {
      title: "My API",
      version: "1.0.0",
      description: "A simple Express API",
    },
    servers: [
      {
        url: "http://localhost:3000/api",
      },
    ],
  },
  apis: ["./routes/*.js"], // files containing annotations
};

const specs = swaggerJsdoc(options);
app.use("/api-docs", swaggerUi.serve, swaggerUi.setup(specs));

// Route vá»›i Swagger annotation
/**
 * @swagger
 * /users:
 *   get:
 *     summary: Returns a list of users
 *     description: Retrieve a list of users from the database
 *     responses:
 *       200:
 *         description: A list of users
 *         content:
 *           application/json:
 *             schema:
 *               type: object
 *               properties:
 *                 data:
 *                   type: array
 *                   items:
 *                     type: object
 *                     properties:
 *                       id:
 *                         type: integer
 *                         example: 1
 *                       name:
 *                         type: string
 *                         example: John Doe
 */
app.get("/users", (req, res) => {
  // Implementation
});
```

### API Versioning

```javascript
// URL-based versioning
app.use("/api/v1", v1Router);
app.use("/api/v2", v2Router);

// Header-based versioning
app.use(
  "/api",
  (req, res, next) => {
    const version = req.headers["accept-version"] || "1";
    req.apiVersion = version;
    next();
  },
  apiRouter
);
```

### API Authentication

```javascript
// JWT Authentication
const jwt = require("jsonwebtoken");

// Generate token
function generateToken(user) {
  return jwt.sign({ id: user._id }, process.env.JWT_SECRET, {
    expiresIn: "30d",
  });
}

// Login endpoint
app.post("/api/login", async (req, res) => {
  const { email, password } = req.body;

  try {
    const user = await User.findOne({ email });

    if (user && (await user.matchPassword(password))) {
      res.json({
        _id: user._id,
        name: user.name,
        email: user.email,
        token: generateToken(user),
      });
    } else {
      res.status(401).json({
        status: "fail",
        message: "Invalid email or password",
      });
    }
  } catch (error) {
    res.status(500).json({
      status: "error",
      message: error.message,
    });
  }
});

// Protect routes
const protect = async (req, res, next) => {
  let token;

  if (
    req.headers.authorization &&
    req.headers.authorization.startsWith("Bearer")
  ) {
    try {
      // Get token from header
      token = req.headers.authorization.split(" ")[1];

      // Verify token
      const decoded = jwt.verify(token, process.env.JWT_SECRET);

      // Get user from the token
      req.user = await User.findById(decoded.id).select("-password");

      next();
    } catch (error) {
      res.status(401).json({
        status: "fail",
        message: "Not authorized, token failed",
      });
    }
  }

  if (!token) {
    res.status(401).json({
      status: "fail",
      message: "Not authorized, no token",
    });
  }
};

// Using protect middleware
app.get("/api/profile", protect, (req, res) => {
  res.json(req.user);
});
```

### CORS (Cross-Origin Resource Sharing)

- CORS lÃ  má»™t cÆ¡ cháº¿ báº£o máº­t cho phÃ©p hoáº·c tá»« chá»‘i cÃ¡c yÃªu cáº§u tá»« cÃ¡c nguá»“n khÃ¡c nhau
- GiÃºp báº£o vá»‡ á»©ng dá»¥ng web khá»i cÃ¡c cuá»™c táº¥n cÃ´ng Cross-Site Request Forgery (CSRF)

```javascript
const cors = require("cors");

// Enable CORS for all routes
app.use(cors());

// Enable CORS for specific origin
app.use(
  cors({
    origin: "https://myapp.com",
  })
);

// Configure CORS options
app.use(
  cors({
    origin: ["https://myapp.com", "https://admin.myapp.com"],
    methods: ["GET", "POST", "PUT", "DELETE"],
    allowedHeaders: ["Content-Type", "Authorization"],
    credentials: true,
    maxAge: 86400, // Preflight results cached for 24 hours
  })
);
```

### Rate Limiting

- Giá»›i háº¡n sá»‘ lÆ°á»£ng yÃªu cáº§u tá»« má»™t Ä‘á»‹a chá»‰ IP trong má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh
- GiÃºp báº£o vá»‡ á»©ng dá»¥ng khá»i cÃ¡c cuá»™c táº¥n cÃ´ng DDoS vÃ  brute-force

```javascript
const rateLimit = require("express-rate-limit");

// Apply rate limiting to all requests
const limiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15 minutes
  max: 100, // Limit each IP to 100 requests per window
  standardHeaders: true, // Return rate limit info in RateLimit-* headers
  message: {
    status: "fail",
    message: "Too many requests, please try again later.",
  },
});

app.use("/api", limiter);

// Apply stricter rate limiting to login attempts
const loginLimiter = rateLimit({
  windowMs: 60 * 60 * 1000, // 1 hour
  max: 5, // Limit to 5 login attempts per hour
  message: {
    status: "fail",
    message: "Too many login attempts, please try again after an hour",
  },
});

app.use("/api/login", loginLimiter);
```

---

## ğŸ§‘â€ğŸ« BÃ i 9: Deployment vÃ  CI/CD cÆ¡ báº£n

### CÃ¡c ná»n táº£ng hosting phá»• biáº¿n

1. **Vercel** - Tá»‘t nháº¥t cho Next.js vÃ  cÃ¡c SPA

   - Zero-config deployment
   - Preview deployments cho má»—i pull request
   - CDN toÃ n cáº§u

2. **Netlify** - Tá»‘t cho static sites vÃ  Jamstack

   - TÃ­ch há»£p CI/CD
   - Serverless functions
   - Form handling

3. **Heroku** - PaaS Ä‘Æ¡n giáº£n, há»— trá»£ nhiá»u ngÃ´n ngá»¯

   - Dá»… sá»­ dá»¥ng
   - Add-ons cho databases vÃ  services
   - Free tier cho thá»­ nghiá»‡m (Ä‘Ã£ ngá»«ng)

4. **AWS (Amazon Web Services)** - Äáº§y Ä‘á»§ tÃ­nh nÄƒng, phá»©c táº¡p hÆ¡n

   - Nhiá»u dá»‹ch vá»¥: EC2, S3, Lambda, Amplify...
   - TÃ­nh nÄƒng má»Ÿ rá»™ng vÃ  linh hoáº¡t cao
   - Theo mÃ´ hÃ¬nh tráº£ phÃ­ theo sá»­ dá»¥ng

5. **Firebase** - Ná»n táº£ng phÃ¡t triá»ƒn cá»§a Google
   - Realtime Database
   - Authentication
   - Hosting
   - Functions (serverless)

### Triá»ƒn khai lÃªn Vercel

- Tham kháº£o tÃ i liá»‡u [Vercel](https://vercel.com/docs)

```bash
# CÃ i Ä‘áº·t Vercel CLI
npm install -g vercel

# Login
vercel login

# Deploy
vercel

# Deploy vá»›i cáº¥u hÃ¬nh production
vercel --prod
```

### Triá»ƒn khai lÃªn Netlify

- Tham kháº£o tÃ i liá»‡u [Netlify](https://docs.netlify.com/)

```bash
# CÃ i Ä‘áº·t Netlify CLI
npm install -g netlify-cli

# Login
netlify login

# Khá»Ÿi táº¡o site má»›i
netlify init

# Deploy production build
netlify deploy --prod
```

### Cáº¥u hÃ¬nh Continuous Integration/Continuous Deployment (CI/CD)

#### GitHub Actions

```yaml
# .github/workflows/node.js.yml
name: Node.js CI

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [14.x, 16.x]

    steps:
      - uses: actions/checkout@v2
      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v2
        with:
          node-version: ${{ matrix.node-version }}
      - run: npm ci
      - run: npm run build --if-present
      - run: npm test

  deploy:
    needs: build
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'

    steps:
      - uses: actions/checkout@v2
      - name: Deploy to Vercel
        uses: amondnet/vercel-action@v20
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.ORG_ID }}
          vercel-project-id: ${{ secrets.PROJECT_ID }}
          vercel-args: "--prod"
```

### Netlify CI/CD

1. LiÃªn káº¿t repository GitHub/GitLab/Bitbucket vá»›i Netlify
2. Cáº¥u hÃ¬nh build command (vd: `npm run build`)
3. Cáº¥u hÃ¬nh publish directory (vd: `build` hoáº·c `dist`)
4. Tá»± Ä‘á»™ng deploy khi push lÃªn branch main

### Docker cÆ¡ báº£n cho deployment

```dockerfile
# Dockerfile
FROM node:14-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install

COPY . .
RUN npm run build

EXPOSE 3000

CMD ["npm", "start"]
```

```bash
# Build Docker image
docker build -t my-app .

# Run Docker container
docker run -p 3000:3000 my-app
```

---

## ğŸ§ª BÃ€I Táº¬P Lá»šN CUá»I PHáº¦N: XÃ¢y dá»±ng á»¨ng dá»¥ng Full-Stack vá»›i React vÃ  Express

### Äá» bÃ i

XÃ¢y dá»±ng má»™t á»©ng dá»¥ng Blog Ä‘Æ¡n giáº£n vá»›i React á»Ÿ frontend vÃ  Express á»Ÿ backend.

### YÃªu cáº§u

1. **Backend (Express.js):**

   - API endpoints cho CRUD operations (Create, Read, Update, Delete) vá»›i bÃ i viáº¿t
   - Authentication vá»›i JWT (JSON Web Tokens)
   - LÆ°u trá»¯ dá»¯ liá»‡u (cÃ³ thá»ƒ sá»­ dá»¥ng MongoDB hoáº·c SQLite)
   - Middleware xá»­ lÃ½ lá»—i vÃ  validation

2. **Frontend (React):**

   - Sá»­ dá»¥ng React Router cho navigation
   - State management (Context API hoáº·c Redux)
   - Form handling vá»›i validation
   - Authentication UI (Ä‘Äƒng nháº­p, Ä‘Äƒng kÃ½)
   - Responsive design

3. **TÃ­nh nÄƒng á»©ng dá»¥ng:**

   - NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ Ä‘Äƒng kÃ½ vÃ  Ä‘Äƒng nháº­p
   - NgÆ°á»i dÃ¹ng Ä‘Ã£ xÃ¡c thá»±c cÃ³ thá»ƒ táº¡o, sá»­a, xÃ³a bÃ i viáº¿t
   - Táº¥t cáº£ ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ xem danh sÃ¡ch bÃ i viáº¿t vÃ  chi tiáº¿t bÃ i viáº¿t
   - TÃ¬m kiáº¿m vÃ  lá»c bÃ i viáº¿t

4. **Deployment:**
   - Backend: Vercel, Heroku hoáº·c Render
   - Frontend: Vercel hoáº·c Netlify
   - Cáº¥u hÃ¬nh API calls giá»¯a frontend vÃ  backend

### Gá»£i Ã½ cáº¥u trÃºc dá»± Ã¡n

```text
blog-app/
â”œâ”€â”€ client/                 # Frontend React
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ App.js
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ server/                 # Backend Express
â”‚   â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ middleware/
â”‚   â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ config.js
â”‚   â”œâ”€â”€ server.js
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ README.md
```

### ÄÃ¡nh giÃ¡

- TÃ­nh nÄƒng Ä‘áº§y Ä‘á»§ vÃ  hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c
- Code cáº¥u trÃºc, sáº¡ch, cÃ³ comments
- Xá»­ lÃ½ lá»—i vÃ  validation Ä‘áº§y Ä‘á»§
- UI/UX thÃ¢n thiá»‡n ngÆ°á»i dÃ¹ng
- Responsive trÃªn nhiá»u thiáº¿t bá»‹
- Deployment thÃ nh cÃ´ng

---

[â¬…ï¸ Trá»Ÿ láº¡i: WEB/Part3.md](../WEB/Part3.md) |
[ğŸ  Home](../README.md) |
[â¡ï¸ Tiáº¿p theo: PHP/Part1.md](../PHP/Part1.md)
